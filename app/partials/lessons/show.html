<div id="lesson-page">
    <div class="lesson-info" ng-show="!show_resource">
        <div class="pre">
            <div class="lesson-title">
                <h1>{{current_lesson.name}}</h1>
            </div>
            <div class="lesson-infos clearfix">
                <div class="infos-item">
                    <span class="meta">专业:</span>
                    <span class="meta-value">
                            <strong>{{current_lesson.major.name}}</strong>
                    </span>
                </div>
                <div class="infos-item">
                    <span class="meta">教师:</span>
                    <span class="meta-value">
                            <strong>{{current_lesson.teacher.name}}</strong>
                    </span>
                </div>
                <div class="infos-item">
                    <span class="meta">订阅人数:</span>
                    <span class="meta-value">
                            <strong>{{current_lesson.mark_sum}}</strong>
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div id="resource" ng-if="show_resource">
        <just-video video-url="video_url"></just-video>
    </div>
    <div class="lesson-info-main">
        <div class="content-wrap col-xs-12">
            <div class="content col-xs-8">
                <div ng-hide="need_learn  || show_resource">
                    <span class="progress-info">
                        <span class="progress-info-percent">
                            <strong>{{progress_info_percent}}</strong>
                            %
                        </span>
                    <span>已学习:</span>
                    <span class="progress-info-time">{{progress_info_hour}}小时{{progress_info_minute}}分钟</span>
                    </span>
                    <div class="progress progress-striped">
                        <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" ng-style="{width: progress_info_percent + '%'}">
                        </div>
                    </div>
                </div>
                <div class="lesson-brief">
                    <h3 class="ctit">课程介绍</h3>
                    <p class="brief-content">{{current_lesson.introduction}}</p>
                </div>
                <div class="lesson-main-content">
                    <div class="nav-bars">
                        <ul class="nav nav-tabs">
                            <li ng-class="{active: active_type == 'show_outline'}" ng-click="change_active('show_outline')">
                                <a><i class="fa fa-bars" aria-hidden="true"></i>课程提纲</a></li>
                            <li ng-class="{active: active_type == 'show_comment'}" ng-click="change_active('show_comment')">
                                <a href=""><i class="fa fa-comments-o" aria-hidden="true"></i>评论({{current_lesson.comment_sum}})</a></li>
                        </ul>
                    </div>
                    <div ng-show="active_type == 'show_outline'">
                        <div class="outline-list">
                            <ul>
                                <li class="chapter clearfix" ng-repeat="chapter in chapters">
                                    <i class="chapter-icon"></i>
                                    <div class="chapter-body">
                                        <h5 class="chapter-name">{{chapter.name}}</h5>
                                        <p class="chapter-desc">{{chapter.desc}}</p>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div ng-show="active_type == 'show_comment'">
                        <div class="my_content">
                            <textarea  cols="25" placeholder="这里可以畅所欲言哦" ng-model="my_comment"></textarea>
                            <input type="button" class="btn btn-info" value="发表" ng-disabled="!my_comment" ng-click="submit_comment()"></input>
                        </div>
                        <div class="evaluation" ng-repeat="comment in comments | orderBy: create_time:true">
                            <div class="user_avatar col-xs-1">
                                <img ng-src="http://img.mukewang.com/565fd7a80001b92f01000100-100-100.jpg">
                            </div>
                            <div class="comment_box col-xs-11">
                                <div class="user_name">{{comment.create_user.name}}</div>
                                <div class="comment_time">{{comment.create_time}}</div>
                                <div class="floor">{{$index + 1}}楼</div>
                                <p>{{comment.content}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="content-aside col-xs-4">
                <div class="lesson-order col-xs-12" ng-click="start_or_continue()" ng-show="!show_resource">{{btn_content}}</div>
                <div class="wish col-xs-12" ng-show="!show_resource">
                    <div>
                        <h3>教师寄语</h3>
                        <div class="wish-content">
                            {{current_lesson.wish}}
                        </div>
                    </div>
                </div>
                <div class="resource-info col-xs-12" ng-if="!need_learn">
                    <h3>相关资源列表:</h3>
                    <div class="resource-list">
                        <div><a ng-href="{{pdf_url}}">angularjs权威教程</a></div>
                        <div><a ng-href="{{zip_url}}">压缩包</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
